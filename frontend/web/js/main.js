document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".swiperDetails"),t=document.querySelectorAll(".swiperModel"),a=document.querySelectorAll(".modalCars"),l=document.querySelector(".modal-cars"),r=document.querySelectorAll(".modalCars__close"),o=document.querySelectorAll("[data-modal-gallery]");if(o?.forEach((e=>{e.addEventListener("click",(()=>{overlay?.classList.add("open"),l?.classList.add("active")}))})),r?.forEach((e=>{e.addEventListener("click",(()=>{l?.classList.remove("active"),overlay?.classList.remove("open")}))})),o?.forEach((e=>{e.addEventListener("click",(()=>{overlay?.classList.add("open"),l?.classList.add("active")}))})),e.forEach(((e,t)=>{new Swiper(e,{spaceBetween:20,slidesPerView:1,loop:!0,navigation:{nextEl:".swiperDetails__next",prevEl:".swiperDetails__prev"}})})),t.forEach(((e,t)=>{const a=new Swiper(e,{spaceBetween:0,mousewheel:!0,keyboard:!0,effect:"fade",breakpoints:{320:{allowTouchMove:!1},414:{slidesPerView:1}},pagination:{bulletClass:"swiperModel__dot",bulletActiveClass:"swiperModel__dot-active",bulletElement:"div",el:".swiperModel__dots",clickable:!0},navigation:{nextEl:".swiperDetails__prev",prevEl:".swiperDetails__next"}}),l=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){switch(e.target.getAttribute("data-model")){case"corps":a.slideTo(1);break;case"interior":a.slideTo(5);break;case"wheels":a.slideTo(3);break;case"start":a.slideTo(0)}t.unobserve(e.target)}}))}),{rootMargin:"-50% 0% -50% 0%"});if(window.matchMedia("(min-width: 1100px)").matches){const e=document.querySelector(".detailsCar__info");e?.addEventListener("scroll",(()=>{setTimeout((()=>{document.querySelectorAll("[data-model]").forEach((e=>l.observe(e)))}),200)}))}document.querySelectorAll(".thumbSwiper__item").forEach(((e,t)=>{e.addEventListener("click",(function(){a.slideTo(t)}))}))})),window.matchMedia("(max-width: 1100px)").matches){const e=document.querySelector(".thumbSwiper"),t=document.querySelector(".modelPrices .detailsCar__title")?.outerHTML;e?.insertAdjacentHTML("afterbegin",t)}a.forEach(((e,t)=>{new Swiper(e,{spaceBetween:20,slidesPerView:"auto",centeredSlides:!0,speed:1e3,navigation:{nextEl:".modalCars__next",prevEl:".modalCars__prev"},pagination:{el:".modalCars__dots",clickable:!0}})}))}));